<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

<ui:composition template="common/header.xhtml">
	<ui:define name="main">

		<script type="text/javascript">
			setActiveLink(7);
		</script>

		<div id="content" style="padding-bottom: 35px">
			<section class="container">
	                <section class="row">
	                    <div class="span9">
	                        <div class="contact-box" style="width:100%">
	                            <div class="title-bar">
	                                <div class="inner">
	                                    <h2>#{msg['article.header.add']}</h2>
	                                    <p>#{msg['news.subHeader']}</p>
	                                </div>
	                            </div>
	                            <div class="contact-box-content">
	                                <div class="inner">
	                                		<h:form id="uploadForm" prependId="false" enctype="multipart/form-data">
		                                		<section class="featured-items" style="width: 100%; height: 60px;">
		                                			<p:messages id="msg"/>

													<div class="featured-item" style="margin-right: 20px; float: left; height: 69px;margin-bottom: 10px;">
														<figure style="height:68px;">
															<p:graphicImage value="#{ArticleBean.article.image}" height="90" width="90" style="float:left; margin-right: 10px; margin-bottom: 10px;"/>
				                                        </figure>
			                                        </div>
												</section>

													<div style="clear:both"/>

													<p:commandLink value="#{msg['news.upload']}" style="margint-top: 10px;" onclick="document.getElementById('fileUpload_input').click()"/>

													<p:fileUpload id="fileUpload" mode="advanced" multiple="true" auto="true" allowTypes="/(\.|\/)(gif|jpe?g|png)$/"
														sizeLimit="2097152" fileUploadListener="#{ArticleBean.handleFileUpload}"
														showButtons="false" update="@form" style="visibility:hidden; position:absolute"
														invalidSizeMessage="The maximum of image is 2MB. Please choose again"
														invalidFileMessage="Please choose file type gif, jpg, jpeg, png"/>

	                                		</h:form>

	                                        <h:form prependId="false" id="addArticleForm">

	                                        	<label for="title">#{msg['news.title']}</label>
	                                            <p:inputText id="title" value="#{ArticleBean.article.title}" required="true" requiredMessage="#{msg['news.title.required']}"
	                                            	type="text" styleClass="input-block-level" />

	                                            <label for="subTitle">#{msg['news.subTitle']}</label>
	                                            <p:inputText id="subTitle" value="#{ArticleBean.article.subTitle}" required="true" requiredMessage="#{msg['news.subTitle.required']}"
	                                            	type="text" styleClass="input-block-level" />

	                                            <label for="keywords">#{msg['article.keyword']}</label>
	                                            <p:inputText id="keywords" value="#{ArticleBean.article.keywords}"
	                                            	type="text" styleClass="input-block-level" />

												<label for="houseType">#{msg['article.category']}</label>
												<p:selectOneMenu id="houseType" value="#{ArticleBean.article.category}" required="true"
	                                            	styleClass="customSelect" effect="fade" requiredMessage="#{msg['article.category.required']}">
											            <f:selectItem itemLabel="#{msg['select.defaultOption']}" itemValue="" />
											            <f:selectItem itemLabel="#{msg['article.category.option1']}" itemValue="1" />
											            <f:selectItem itemLabel="#{msg['article.category.option2']}" itemValue="2" />
									        	</p:selectOneMenu>

	                                            <label for="articleContent">#{msg['news.content']}</label>
	                                            <p:editor id="articleContent" widgetVar="articleContent" value="#{ArticleBean.article.content}" required="true"
	                                            	requiredMessage="#{msg['news.content.required']}">
	                                            </p:editor>

												<p:commandLink update=":uploadForm :javascript-form @form" process="@form" styleClass="btn btn-primary btn-large pull-right customButton"
													action="#{ArticleBean.addArticle}" type="submit" value="#{msg['button.submit']}"/>
	                                        </h:form>
	                                </div>
	                            </div>
	                        </div>
	                    </div>

	                    <aside class="span3">
	                        <section class="widget">
	                            <section class="widget-title">
	                                <div class="inner">
	                                    <h2>#{msg['user.title']}</h2>
	                                    <p>#{msg['text.userName']}: #{LoginBean.account.userName}</p>
	                                </div>
	                            </section>
	                            <section class="widget-content top-arrow">
	                                <div class="inner">
	                                	<div style="text-align: center">
	                                		<section class="featured-items" style="height: 60px; margin-top: 10px; margin-bottom: 60px; margin-left: 23%;">
												<div class="featured-item" style="margin-right: 20px; float: left; height: 122px;margin-bottom: 10px;">
													<figure style="height: 120px; width: 120px;">
														<p:graphicImage value="#{LoginBean.account.accountDetail.avatar}" style="height:inherit"/>
			                                        </figure>
		                                        </div>
											</section>
	                                	</div>

	                                	<label>#{msg['text.fullName']}</label>
	                                    <p>#{LoginBean.account.accountDetail.fullName}</p>

	                                    <label>Email</label>
	                                    <p>#{LoginBean.account.email}</p>

	                                    <label>#{msg['text.phone']}</label>
	                                    <p>#{LoginBean.account.accountDetail.phone}</p>

	                                    <label>#{msg['text.address']}</label>
	                                    <p>#{LoginBean.account.accountDetail.address}</p>

	                                    <div style="width: 100%; text-align: center;">
	                                    	<p:commandLink value="#{msg['text.changeProfile']}" immediate="true" process="@this" action="editProfile?faces-redirect=true"/>
	                                    </div>
	                                </div>
	                            </section>
	                        </section>
	                    </aside>
	                </section>
	            </section>
		</div>
	</ui:define>
</ui:composition>
</html>
